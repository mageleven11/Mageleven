<?php
/**
 * Mageleven
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Mageleven.com license that is
 * available through the world-wide-web at this URL:
 * https://www.mageleven.com/LICENSE.txt
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade this extension to newer
 * version in the future.
 *
 * @category    Mageleven
 * @package     Mageleven_BetterPopup
 * @copyright   Copyright (c) Mageleven (https://www.mageleven.com/)
 * @license     https://www.mageleven.com/LICENSE.txt
 */

/** @var \Mageleven\BetterPopup\Block\Popup $block */
if ($block->checkPagesToShow() && $block->checkBetterMaintenance()):
    $floatLocation = ($block->getLocationFloatButton() == 1) ? 'left: 70px' : 'right:70px';

    $widthTempate5 = $block->getWidthPopup()-$block->getWidthPopup()*0.1;
    $heightTempate5 = $block->getHeightPopup()-$block->getHeightPopup()*0.1;

    ?>
    <canvas id="screen"></canvas>
    <div id="mageleven-betterpopup-block" class="mageleven-betterpopup-block"
         data-mage-init='{"mpPopup": { "dataPopup": <?= /** @noEscape */ $block->getAjaxData() ?>}}'>
        <div id="bio_ep" style="background-color: <?= /** @noEscape */ $block->getBackGroundColor() ?>; display:none">
            <div class="mageleven-betterpopup-content">
                <div id="bio_ep_close" aria-label="Close">
                    <img src="<?= /** @noEscape */ $block->getViewFileUrl('Mageleven_BetterPopup::images/icon-close.png') ?>" alt="Close"/>
                </div>
                <div id="bio_ep_content" class="better-popup-content"
                     style="color: <?= /** @noEscape */ $block->getTextColor() ?>">
                    <?= /** @noEscape */ $block->getPopupContent() ?>
                </div>
            </div>
        </div>
        <?php if ($block->isShowFloatButton()): ?>
            <div class="mp-better-popup-click-trigger" style="<?= /** @noEscape */ $floatLocation ?>; display: none">
                <button class="click-trigger primary"><?= /** @noEscape */ $block->getFloatLabel() ?></button>
            </div>
        <?php endif; ?>
    </div>
    <style>
        .mppopup-text {
            color: <?= /** @noEscape */ $block->getTextColor() ?>
        }

        /*default template*/
        .tmp3-img-content img{
            max-width: fit-content;
            height: <?= /** @noEscape */ $block->getHeightPopup() ?>px;
        }

        .tmp3-text-content{
            height: <?= /** @noEscape */ $block->getHeightPopup() ?>px;
        }
        /*Template 1*/
        .mp-popup-template4{
            background-position: bottom;
            background-repeat: no-repeat;
            background-size: cover;
        }

        /*Template 2*/
        #mp-popup-template5 .tmp5-img-content{
            width: -webkit-fill-available;
            max-width: <?= /** @noEscape */ $widthTempate5 ?>px;
            max-height: <?= /** @noEscape */ $heightTempate5 ?>px;
        }
        #mp-popup-template5 .tmp5-img-cap{
            width: -webkit-fill-available;
        }
        .tmp5-form .tmp5-img-email{
            width: -webkit-fill-available;
        }
        /*Template 3*/
        #mp-popup-template6 .tmp6-left-title{
            width: 40%;
            height: <?= /** @noEscape */ $block->getHeightPopup() ?>px;
        }
        #mp-popup-template6 .tmp6-text-content{
            width: 60%;
            height: <?= /** @noEscape */ $block->getHeightPopup() ?>px;
        }
    </style>
<?php endif; ?>
