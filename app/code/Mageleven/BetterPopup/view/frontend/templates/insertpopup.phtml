<?php
/**
 * Mageleven
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Mageleven.com license that is
 * available through the world-wide-web at this URL:
 * https://www.mageleven.com/LICENSE.txt
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade this extension to newer
 * version in the future.
 *
 * @category    Mageleven
 * @package     Mageleven_BetterPopup
 * @copyright   Copyright (c) Mageleven (https://www.mageleven.com/)
 * @license     https://www.mageleven.com/LICENSE.txt
 */

if ($block->isManuallyInsert()):
    $floatLocation = ($block->getLocationFloatButton() == 1) ? 'left: 70px' : 'right:70px'; ?>
    <canvas id="screen"></canvas>
    <div id="mageleven-betterpopup-block" class="mageleven-betterpopup-block"
         data-mage-init='{"mpPopup": { "dataPopup": <?= /** @noEscape */ $block->getAjaxData() ?>}}'>
        <div id="bio_ep" style="background-color: <?= /** @noEscape */ $block->getBackGroundColor() ?>; display:none">
            <div class="mageleven-betterpopup-content">
                <div id="bio_ep_close" aria-label="Close">
                    <img src="<?= /** @noEscape */ $block->getViewFileUrl('Mageleven_BetterPopup::images/icon-close.png') ?>" alt="close"/>
                </div>
                <div id="bio_ep_content" class="better-popup-content" style="color: <?= /** @noEscape */ $block->getTextColor() ?>">
                    <?= /** @noEscape */ $block->getPopupContent() ?>
                </div>
            </div>
        </div>
        <?php if ($block->isShowFloatButton()): ?>
            <div class="mp-better-popup-click-trigger" style="<?= /** @noEscape */ $floatLocation ?>; display: none">
                <button class="click-trigger primary"><?= /** @noEscape */ $block->getFloatLabel() ?></button>
            </div>
        <?php endif; ?>
    </div>
    <style>
        .mppopup-text {
            color: <?= /** @noEscape */ $block->getTextColor() ?>
        }
        #bio_ep_bg {
            display: none !important;
        }
        .tmp5-img-content img, .tmp4-img-content img, .tmp3-img-content img{
            max-width: fit-content;
            height: <?= /** @noEscape */ $block->getHeightPopup() ?>px;
        }
        .tmp5-text-content, .tmp4-text-content, .tmp3-text-content{
            height: <?= /** @noEscape */ $block->getHeightPopup() ?>px;
        }
    </style>
<?php endif; ?>

